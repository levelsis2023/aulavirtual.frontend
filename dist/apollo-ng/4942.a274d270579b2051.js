"use strict";(self.webpackChunkapollo_ng=self.webpackChunkapollo_ng||[]).push([[4942],{4942:(st,g,e)=>{e.r(g),e.d(g,{CursosDocenteModule:()=>nt});var T=e(6814),C=e(4104),Z=e(6223),l=e(9552),h=e(707),_=e(3714),A=e(6804),y=e(4480),U=e(4055),D=e(3965),u=e(1230),w=e(6760),S=e(6651),M=e(7902),N=e(6022),f=e(3722),b=e(1494),O=e(6218),v=e(3259),q=e(3904),B=e(9537),H=e(3530),x=e(5118),F=e(3999),d=e(8007),t=e(8926),E=e(4671),p=e(5924),J=e(4617),G=e(3519),m=e.n(G),L=e(2504),V=e(9062),P=e(3312),$=e(6834),z=e(4067),K=e(5219);const j=["filter"],Y=["dt1"];function k(s,c){1&s&&(t.TgZ(0,"span",2),t._uU(1,"Bandeja de Cursos"),t.qZA())}function I(s,c){if(1&s){const o=t.EpF();t.TgZ(0,"div",12)(1,"div",13)(2,"span",14)(3,"input",15,16),t.NdJ("input",function(r){t.CHM(o);const i=t.oxw(2);return t.KtG(i.onGlobalFilter(r))}),t.qZA()()()()}}function Q(s,c){1&s&&(t.TgZ(0,"tr")(1,"th",17),t._uU(2,"C\xf3digo"),t.qZA(),t.TgZ(3,"th",17),t._uU(4,"Nombre del curso"),t.qZA(),t.TgZ(5,"th",17),t._uU(6,"Acciones"),t.qZA(),t.TgZ(7,"th",17),t._uU(8,"Configuraci\xf3n"),t.qZA(),t.TgZ(9,"th",17),t._uU(10,"Cr\xe9ditos"),t.qZA(),t.TgZ(11,"th",17),t._uU(12,"Ciclo"),t.qZA(),t.TgZ(13,"th",17),t._uU(14,"Carrera t\xe9cnica"),t.qZA(),t.TgZ(15,"th",17),t._uU(16,"\xc1rea de formaci\xf3n"),t.qZA(),t.TgZ(17,"th",17),t._uU(18,"M\xf3dulo formativo"),t.qZA(),t.TgZ(19,"th",17),t._uU(20,"Docente"),t.qZA(),t.TgZ(21,"th",17),t._uU(22,"Foto"),t.qZA(),t.TgZ(23,"th",17),t._uU(24,"Estado (m16)"),t.qZA(),t.TgZ(25,"th",17),t._uU(26,"Modalidad (m18)"),t.qZA(),t.TgZ(27,"th",17),t._uU(28,"F. inicio"),t.qZA(),t.TgZ(29,"th",17),t._uU(30,"F. t\xe9rmino"),t.qZA()())}function R(s,c){if(1&s){const o=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"div",18)(7,"button",19),t.NdJ("click",function(){const i=t.CHM(o).$implicit,a=t.oxw(2);return t.KtG(a.verSyllabus(i.syllabus))}),t._uU(8," Sy "),t.qZA(),t.TgZ(9,"button",20),t.NdJ("click",function(){const i=t.CHM(o).$implicit,a=t.oxw(2);return t.KtG(a.verAlumnos(i))}),t._uU(10," Al "),t.qZA(),t.TgZ(11,"button",21),t.NdJ("click",function(){const i=t.CHM(o).$implicit,a=t.oxw(2);return t.KtG(a.verHorarios(i))}),t._uU(12," Ho "),t.qZA(),t.TgZ(13,"button",22),t.NdJ("click",function(){const i=t.CHM(o).$implicit,a=t.oxw(2);return t.KtG(a.verAsistencia(i))}),t._uU(14," As "),t.qZA(),t.TgZ(15,"button",23),t.NdJ("click",function(){const i=t.CHM(o).$implicit,a=t.oxw(2);return t.KtG(a.verTemas(i.temas))}),t._uU(16," Te "),t.qZA(),t.TgZ(17,"button",24),t.NdJ("click",function(){const i=t.CHM(o).$implicit,a=t.oxw(2);return t.KtG(a.verEvaluaciones(i))}),t._uU(18," Ev "),t.qZA(),t.TgZ(19,"button",25),t.NdJ("click",function(){const i=t.CHM(o).$implicit,a=t.oxw(2);return t.KtG(a.verForos(i))}),t._uU(20," Fo "),t.qZA()()(),t.TgZ(21,"td")(22,"button",26),t.NdJ("click",function(){const i=t.CHM(o).$implicit,a=t.oxw(2);return t.KtG(a.navigateToDetalle(i))}),t.qZA(),t.TgZ(23,"button",27),t.NdJ("click",function(){const i=t.CHM(o).$implicit,a=t.oxw(2);return t.KtG(a.navigateToEdit(i))}),t.qZA(),t.TgZ(24,"button",28),t.NdJ("click",function(){const i=t.CHM(o).$implicit,a=t.oxw(2);return t.KtG(a.navigateToDelete(i.id))}),t.qZA()(),t.TgZ(25,"td"),t._uU(26),t.qZA(),t.TgZ(27,"td"),t._uU(28),t.qZA(),t.TgZ(29,"td"),t._uU(30),t.qZA(),t.TgZ(31,"td"),t._uU(32),t.qZA(),t.TgZ(33,"td"),t._uU(34),t.qZA(),t.TgZ(35,"td"),t._uU(36),t.qZA(),t.TgZ(37,"td"),t._UZ(38,"img",29),t.qZA(),t.TgZ(39,"td"),t._uU(40),t.qZA(),t.TgZ(41,"td"),t._uU(42),t.qZA(),t.TgZ(43,"td"),t._uU(44),t.qZA(),t.TgZ(45,"td"),t._uU(46),t.qZA()()}if(2&s){const o=c.$implicit;t.xp6(2),t.Oqu(o.codigo),t.xp6(2),t.Oqu(o.nombre),t.xp6(22),t.Oqu(o.cantidad_de_creditos),t.xp6(2),t.Oqu(o.ciclo_nombre),t.xp6(2),t.Oqu(o.carrera_nombre),t.xp6(2),t.Oqu(o.area_de_formacion_nombre),t.xp6(2),t.Oqu(o.modulo_formativo_nombre),t.xp6(2),t.Oqu(o.docente),t.xp6(2),t.Q6J("src",o.foto,t.LSH),t.xp6(2),t.Oqu(o.estado_m16),t.xp6(2),t.Oqu(o.modalidad_m18),t.xp6(2),t.Oqu(o.fecha_inicio),t.xp6(2),t.Oqu(o.fecha_termino)}}function X(s,c){1&s&&(t.TgZ(0,"tr")(1,"td",30),t._uU(2,"No se encontraron registros"),t.qZA()())}function W(s,c){1&s&&(t.TgZ(0,"tr")(1,"td",30),t._uU(2,"Cargando registros. Por favor espere."),t.qZA()())}function tt(s,c){if(1&s&&(t.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"p-table",6,7),t.YNc(5,I,5,0,"ng-template",8),t.YNc(6,Q,31,0,"ng-template",0),t.YNc(7,R,47,13,"ng-template",9),t.YNc(8,X,3,0,"ng-template",10),t.YNc(9,W,3,0,"ng-template",11),t.qZA()()()()),2&s){const o=t.oxw();t.xp6(3),t.Q6J("value",o.carrerastecnicasList)("rows",10)("loading",o.loading)("rowHover",!0)("paginator",!0)}}let ot=(()=>{class s{constructor(o,n,r){this.dialogService=o,this.cursosService=n,this.router=r,this.loading=!1,this.miembro=[],this.miembrosActualizados=new t.vpe,this.carrerastecnicasList=[],this.originalCarrerastecnicasList=[]}ngOnInit(){const o=localStorage.getItem("user");let n=null;o?n=JSON.parse(o).docente_id||8:console.error("No se encontr\xf3 el objeto user en el localStorage"),this.config={data:{data:{id:n,total_creditos:30}}},this.listarCursos()}listarCursos(){this.cursosService.getCursosByDocente(this.config.data.data.id).subscribe(o=>{this.carrerastecnicasList=o,this.originalCarrerastecnicasList=[...o]})}navigateToNuevo(){this.ref=this.dialogService.open(E.M,{width:"60%",styleClass:"custom-dialog-header"}),this.ref.onClose.subscribe(()=>{this.listarCursos()})}navigateAddCurso(){this.ref=this.dialogService.open(p.V,{width:"60%",styleClass:"custom-dialog-header",data:{id:this.config.data.data.id,total_creditos:this.config.data.data.total_creditos,acciones:"add"}}),this.ref.onClose.subscribe(()=>{this.listarCursos()})}navigateToDetalle(o){this.ref=this.dialogService.open(p.V,{width:"80%",styleClass:"custom-dialog-header",data:{id:this.config.data.data.id,total_creditos:this.config.data.data.total_creditos,acciones:"ver",data:o}}),this.ref.onClose.subscribe(()=>{this.listarCursos()})}navigateToEdit(o){this.ref=this.dialogService.open(p.V,{width:"60%",styleClass:"custom-dialog-header",data:{id:this.config.data.data.id,total_creditos:this.config.data.data.total_creditos,acciones:"editar",data:o}}),this.ref.onClose.subscribe(()=>{this.listarCursos()})}navigateToDelete(o){m().fire({title:"\xbfEst\xe1s seguro?",text:"No podr\xe1s revertir esto",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, eliminarlo",customClass:{popup:"custom-swal-popup"},didOpen:()=>{const n=document.querySelector(".swal2-container");n&&n.setAttribute("style","z-index: 2147483647 !important")}}).then(n=>{n.isConfirmed&&this.cursosService.eliminarCurso(o).subscribe(()=>{m().fire({title:"Eliminado",text:"La carrera t\xe9cnica ha sido eliminada.",icon:"success",showClass:{popup:"\n                  background-color: #78CBF2;\n                  color: white;\n                  z-index: 10000!important;\n                "},didOpen:()=>{const r=document.querySelector(".swal2-container");r&&r.setAttribute("style","z-index: 2147483647 !important")}}),this.listarCursos()},()=>{m().fire("Error","Hubo un problema al eliminar la carrera t\xe9cnica.","error")})})}onGlobalFilter(o){const n=o.target.value.toLowerCase();this.carrerastecnicasList=n?this.originalCarrerastecnicasList.filter(r=>r.codigo&&r.codigo.toLowerCase().includes(n)||r.nombres&&r.nombres.toLowerCase().includes(n)||r.cursos&&r.cursos.toLowerCase().includes(n)):[...this.originalCarrerastecnicasList]}verTemas(o){console.log(o)}verEvaluaciones(o){this.ref=this.dialogService.open(P.D,{width:"60%",styleClass:"custom-dialog-header",data:{data:o}}),this.ref.onClose.subscribe(()=>{this.listarCursos()})}verForos(o){this.ref=this.dialogService.open($.j,{width:"60%",styleClass:"custom-dialog-header",data:{data:o}}),this.ref.onClose.subscribe(()=>{this.listarCursos()})}verSyllabus(o){console.log(o)}verAlumnos(o){this.ref=this.dialogService.open(L.R,{width:"60%",styleClass:"custom-dialog-header",data:{cursoId:o.id,domainId:o.domain_id,cursoNombre:o.nombre}}),this.ref.onClose.subscribe(()=>{this.listarCursos()})}verHorarios(o){this.ref=this.dialogService.open(J.M,{width:"60%",styleClass:"custom-dialog-header",data:{data:o}}),this.ref.onClose.subscribe(()=>{this.listarCursos()})}verAsistencia(o){this.ref=this.dialogService.open(V.B,{width:"60%",styleClass:"custom-dialog-header",data:{data:o}}),this.ref.onClose.subscribe(()=>{this.listarCursos()})}static#t=this.\u0275fac=function(n){return new(n||s)(t.Y36(x.xA),t.Y36(z.m),t.Y36(d.F0))};static#o=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-cursos-docentes"]],viewQuery:function(n,r){if(1&n&&(t.Gf(j,5),t.Gf(Y,5)),2&n){let i;t.iGM(i=t.CRH())&&(r.filter=i.first),t.iGM(i=t.CRH())&&(r.tabledt1=i.first)}},inputs:{miembro:"miembro"},outputs:{miembrosActualizados:"miembrosActualizados"},decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[1,"row","mb-4"],[1,"grid","p-fluid"],[1,"field","md:col-12"],["styleClass","p-datatable-gridlines","responsiveLayout","scroll",1,"custom-search-input",3,"value","rows","loading","rowHover","paginator"],["dt1",""],["pTemplate","caption"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],[1,"flex","justify-content-between","flex-wrap"],[1,"flex-grow-1","mb-2","mr-2"],[1,"p-input-icon-left","w-full"],["pInputText","","type","text","placeholder","Buscar cursos",1,"w-full",3,"input"],["filter",""],["scope","col",2,"min-width","10rem"],[1,"button-group"],["pButton","","pTooltip","Ver Syllabus","tooltipPosition","top",1,"p-button-rounded","p-button-info","button-custom",2,"background","gray",3,"click"],["pButton","","pTooltip","Ver Alumnos","tooltipPosition","top",1,"p-button-rounded","p-button-success","button-custom",2,"background","blue",3,"click"],["pButton","","pTooltip","Ver Horarios","tooltipPosition","top",1,"p-button-rounded","p-button-warning","button-custom",2,"background","yellow",3,"click"],["pButton","","pTooltip","Ver Asistencia","tooltipPosition","top",1,"p-button-rounded","p-button-primary","button-custom",2,"background","rgb(103, 87, 87)",3,"click"],["pButton","","pTooltip","Ver Temas","tooltipPosition","top",1,"p-button-rounded","p-button-secondary","button-custom",2,"background","green",3,"click"],["pButton","","pTooltip","Ver Evaluaciones","tooltipPosition","top",1,"p-button-rounded","p-button-help","button-custom",2,"background","rgb(24, 15, 67)",3,"click"],["pButton","","pTooltip","Ver Foros","tooltipPosition","top",1,"p-button-rounded","p-button-danger","button-custom",2,"background","rgb(15, 68, 110)",3,"click"],["pButton","","icon","pi pi-eye","title","Ver",1,"p-button-rounded","p-button-text","p-button-success",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-pencil","title","Editar",1,"p-button-rounded","p-button-text","p-button-warning",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-trash","title","Eliminar",1,"p-button-rounded","p-button-text","p-button-danger",2,"width","70px","border-radius","30px",3,"click"],["alt","Foto","width","50",3,"src"],["colspan","23"]],template:function(n,r){1&n&&(t.TgZ(0,"p-panel"),t.YNc(1,k,2,0,"ng-template",0),t.YNc(2,tt,10,5,"ng-template",1),t.qZA())},dependencies:[h.Hq,K.jx,l.iA,_.o,u.s,v.u],styles:['@charset "UTF-8";.button-custom[_ngcontent-%COMP%]{width:1rem;height:3rem;background-color:#f0f8ff;background:#2c5f8b;color:#faebd7;border:none;border-radius:inherit;display:flex;justify-content:center;align-items:center;text-align:center}.button-group[_ngcontent-%COMP%]{display:flex;gap:10px}.custom-swal-popup[_ngcontent-%COMP%], .swal2-popup[_ngcontent-%COMP%]{z-index:2147483647!important}body.swal2-shown[_ngcontent-%COMP%]:not(.swal2-no-backdrop):not(.swal2-toast-shown){z-index:2147483647!important}']})}return s})(),et=(()=>{class s{static#t=this.\u0275fac=function(n){return new(n||s)};static#o=this.\u0275mod=t.oAB({type:s});static#e=this.\u0275inj=t.cJS({imports:[d.Bz.forChild([{path:"",component:ot}]),d.Bz]})}return s})(),nt=(()=>{class s{static#t=this.\u0275fac=function(n){return new(n||s)};static#o=this.\u0275mod=t.oAB({type:s});static#e=this.\u0275inj=t.cJS({imports:[T.ez,et,Z.u5,w._8,l.U$,N.Xt,h.hJ,M.JH,_.j,O.A,A.KZ,y.T,U.q4,D.kW,u.Q,S.q,C.EV,b.n,f.O,v.z,C.EV,u.Q,l.U$,b.n,q.D,f.O,B.Z_,H.S,x.DL,F.aw]})}return s})()}}]);