"use strict";(self.webpackChunkapollo_ng=self.webpackChunkapollo_ng||[]).push([[5885],{5885:(v,d,e)=>{e.r(d),e.d(d,{EcommerceDashboardModule:()=>D});var i=e(6814),u=e(8007),o=e(8926),g=e(981),m=e(3859);let n=(()=>{class s{constructor(t,a){this.productService=t,this.layoutService=a,this.knobValue=90,this.weeks=[],this.products=[],this.cols=[],this.subscription=this.layoutService.configUpdate$.subscribe(p=>{this.initCharts()})}ngOnInit(){this.weeks=[{label:"Last Week",value:0,data:[[65,59,80,81,56,55,40],[28,48,40,19,86,27,90]]},{label:"This Week",value:1,data:[[35,19,40,61,16,55,30],[48,78,10,29,76,77,10]]}],this.selectedWeek=this.weeks[0],this.initCharts(),this.productService.getProductsSmall().then(t=>this.products=t),this.cols=[{header:"Name",field:"name"},{header:"Category",field:"category"},{header:"Price",field:"price"},{header:"Status",field:"inventoryStatus"}]}initCharts(){const t=getComputedStyle(document.documentElement),a=t.getPropertyValue("--text-color"),p=t.getPropertyValue("--text-color-secondary"),P=t.getPropertyValue("--surface-border");this.barData={labels:["MON","TUE","WED","THU","FRI","SAT","SUN"],datasets:[{label:"Revenue",backgroundColor:t.getPropertyValue("--primary-500"),barThickness:12,borderRadius:12,data:this.selectedWeek.data[0]},{label:"Profit",backgroundColor:t.getPropertyValue("--primary-200"),barThickness:12,borderRadius:12,data:this.selectedWeek.data[1]}]},this.pieData={labels:["Electronics","Fashion","Household"],datasets:[{data:[300,50,100],backgroundColor:[t.getPropertyValue("--primary-700"),t.getPropertyValue("--primary-400"),t.getPropertyValue("--primary-100")],hoverBackgroundColor:[t.getPropertyValue("--primary-600"),t.getPropertyValue("--primary-300"),t.getPropertyValue("--primary-200")]}]},this.barOptions={animation:{duration:0},plugins:{legend:{labels:{color:a,usePointStyle:!0,font:{weight:700},padding:28},position:"bottom"}},scales:{x:{ticks:{color:p,font:{weight:500}},grid:{display:!1,drawBorder:!1}},y:{ticks:{color:p},grid:{color:P,drawBorder:!1}}}},this.pieOptions={animation:{duration:0},plugins:{legend:{labels:{color:a,usePointStyle:!0,font:{weight:700},padding:28},position:"bottom"}}}}onWeekChange(){let t={...this.barData};t.datasets[0].data=this.selectedWeek.data[0],t.datasets[1].data=this.selectedWeek.data[1],this.barData=t}onGlobalFilter(t,a){t.filterGlobal(a.target.value,"contains")}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static#t=this.\u0275fac=function(a){return new(a||s)(o.Y36(g.M),o.Y36(m.P))};static#e=this.\u0275cmp=o.Xpm({type:s,selectors:[["ng-component"]],decls:1,vars:0,consts:[[1,"grid"]],template:function(a,p){1&a&&o._UZ(0,"div",0)},encapsulation:2})}return s})(),y=(()=>{class s{static#t=this.\u0275fac=function(a){return new(a||s)};static#e=this.\u0275mod=o.oAB({type:s});static#i=this.\u0275inj=o.cJS({imports:[u.Bz.forChild([{path:"",component:n}]),u.Bz]})}return s})();var l=e(707),r=e(3965),c=e(6223),h=e(9552),f=e(6218),b=e(3714),S=e(9252),E=e(6058),C=e(6022),M=e(4480);let D=(()=>{class s{static#t=this.\u0275fac=function(a){return new(a||s)};static#e=this.\u0275mod=o.oAB({type:s});static#i=this.\u0275inj=o.cJS({imports:[i.ez,y,l.hJ,M.T,r.kW,c.u5,h.U$,b.j,f.A,S.S,C.Xt,E.dJ]})}return s})()},6218:(v,d,e)=>{e.d(d,{A:()=>m,g:()=>g});var i=e(8926),u=e(6814),o=e(6223);let g=(()=>{class n{el;ngModel;control;cd;autoResize;onResize=new i.vpe;filled;cachedScrollHeight;ngModelSubscription;ngControlSubscription;constructor(l,r,c,h){this.el=l,this.ngModel=r,this.control=c,this.cd=h}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewChecked(){this.updateState()}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(l){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}resize(l){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(l||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)(i.Y36(i.SBq),i.Y36(o.On,8),i.Y36(o.a5,8),i.Y36(i.sBO))};static \u0275dir=i.lG2({type:n,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(r,c){1&r&&i.NdJ("input",function(f){return c.onInput(f)}),2&r&&i.ekj("p-filled",c.filled)("p-inputtextarea-resizable",c.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}})}return n})(),m=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=i.oAB({type:n});static \u0275inj=i.cJS({imports:[u.ez]})}return n})()}}]);